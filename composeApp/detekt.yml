console-reports:
  active: true

complexity:
  LongMethod:
    allowedLines: 100
  LongParameterList:
    ignoreAnnotated: ["Composable"]
    ignoreDefaultParameters: true
  TooManyFunctions:
    allowedFunctionsPerClass: 15
    ignorePrivate: true
  CyclomaticComplexMethod:
    ignoreSimpleWhenEntries: true

coroutines:
  InjectDispatcher:
    active: false

ktlint:
  ArgumentListWrapping:
    maxLineLength: 140
  BinaryExpressionWrapping:
    maxLineLength: 140
  BlankLineBeforeDeclaration:
    active: false
  ChainMethodContinuation:
    active: false
  ClassName:
    active: true
  ClassSignature:
    active: false
  EnumWrapping:
    active: true
  Filename:
    ignoreAnnotated: ["Preview"]
  FunctionExpressionBody:
    active: false
  FunctionLiteral:
    maxLineLength: 140
  FunctionReturnTypeSpacing:
    maxLineLength: 140
  FunctionSignature:
    active: false
  IfElseBracing:
    active: true
  IfElseWrapping:
    active: true
  MaximumLineLength:
    maxLineLength: 140 #TODO
  NoBlankLineInList:
    active: false
  NoEmptyFirstLineInClassBody:
    active: false
  NoSingleLineBlockComment:
    active: true
  ParameterListWrapping:
    maxLineLength: 140
  ParameterWrapping:
    maxLineLength: 140
  PropertyWrapping:
    maxLineLength: 140
  TrailingCommaOnCallSite:
    active: true
    useTrailingCommaOnCallSite: true
  TrailingCommaOnDeclarationSite:
    active: true
    useTrailingCommaOnDeclarationSite: true
  TryCatchFinallySpacing:
    active: true
  TypeArgumentListSpacing:
    active: true
  TypeParameterListSpacing:
    active: true
  Wrapping:
    maxLineLength: 140

naming:
  FunctionNaming:
    ignoreAnnotated: ["Composable"]
  MatchingDeclarationName:
    active: false # Overlaps with ktlint > Filename
  NoNameShadowing:
    active: false
  TopLevelPropertyNaming:
    constantPattern: "([A-Z][A-Za-z0-9]*|[A-Z][_A-Z0-9]*)"

style:
  AbstractClassCanBeConcreteClass:
    active: false
  CanBeNonNullable:
    active: true
  CascadingCallWrapping:
    active: true
  ClassOrdering:
    excludes:
      - "**/commonTest/**"
    active: true
  DoubleNegativeLambda:
    active: true
  EqualsOnSignatureLine:
    active: true
  ExplicitCollectionElementAccessMethod:
    active: true
  ForbiddenComment: # TODO: remove once the project is stable
    active: false
  ForbiddenImport:
    active: true
    # We forbid to import anything under androidx.compose.material because we should import from material3
    # We use a negative lookahead to allow for those classes we know are not on material3 and thus can be imported from material
    # e.g. (?!(Allowed|AlsoAllowed|AnotherAllowed)$)
    forbiddenPatterns: "androidx\\.compose\\.material\\.(?!(icons\\..*)$).+"
  ForbiddenMethodCall:
    active: true
    methods:
      - value: com.ibm.icu.util.ULocale.getDisplayName
        reason: ULocale.getDisplayName doesn't allow to select additional options. To format a language, use Bcp47Language.getDisplayName()
          If you actually need to format a locale (and not a language), use LocaleDisplayNames.getInstance()s with the options you need.
      - value: com.ibm.icu.util.ULocale.getAvailableLocales
        reason: ULocale.getAvailableLocales can take a significant amount of time to load. Use the ALL_ULOCALES constant.
  MagicNumber:
    ignorePropertyDeclaration: true
    ignoreCompanionObjectPropertyDeclaration: true
  MandatoryBracesLoops:
    active: true
  MaxLineLength:
    active: false # Overlaps with ktlint > MaximumLineLength
  MultilineRawStringIndentation:
    active: true
  NewLineAtEndOfFile:
    active: false # Overlaps with ktlint > FinalNewline
  NoTabs:
    active: true
  WildcardImport:
    active: false # Overlaps with ktlint > NoWildcardImports
  NullableBooleanCheck:
    active: true
  OptionalUnit:
    active: true
  RedundantVisibilityModifier:
    active: true
  ReturnCount:
    max: 5
    excludeGuardClauses: true
  SpacingAfterPackageDeclaration:
    active: true
  ThrowsCount:
    excludeGuardClauses: true
  TrailingWhitespace:
    active: true
  TrimMultilineRawString:
    active: true
  UnderscoresInNumericLiterals:
    active: true
  UnnecessaryBackticks:
    active: true
  UnusedPrivateFunction:
    ignoreAnnotated: [ "Preview" ]
  UseEmptyCounterpart:
    active: true
  UseIfEmptyOrIfBlank:
    active: true
  UseSumOfInsteadOfFlatMapSize:
    active: true
